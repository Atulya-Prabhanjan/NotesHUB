{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ranjith VK\\\\Desktop\\\\vit\\\\Fall semester 2021\\\\Software engineering\\\\project codes\\\\Notes-Review-home-main (2)\\\\src\\\\Components\\\\Search.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport StarRatingComponent from \"react-star-rating-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Search extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onInputchange = event => {\n      this.setState({\n        queryString: event.target.value\n      });\n    };\n\n    this.ratingChanged = newRating => {\n      console.log(\" Note ID: \" + this.props.id); //axios.put('http://localhost:5000/rate')\n\n      console.log(newRating);\n    };\n\n    this.getNotesData = () => {\n      var URLString = 'http://localhost:5000/notes?search=' + this.state.queryString;\n      axios.get(URLString).then(response => {\n        console.log(response.data);\n        var notes = response.data;\n\n        for (let note of notes) {\n          console.log(note);\n\n          if (note.rating >= 7.5) {\n            note.className = 'green';\n          } else if (note.rating < 5) {\n            note.className = 'red';\n          } else {\n            note.className = 'yellow';\n          }\n        }\n\n        this.setState({\n          results: notes\n        });\n      }).catch(error => {\n        console.log(error);\n        alert(\"No Data found!\");\n      });\n    };\n\n    this.renderResults = () => {\n      const notes = this.state.results;\n      let listOfNotes = '';\n\n      if (notes && notes.length > 0) {\n        listOfNotes = notes.map((note, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-upload-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"description\",\n            children: [\" Description: \", note.description, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"author\",\n            children: [\" Author: \", note.author, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"subject\",\n            children: [\" Subject: \", note.subject, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: note.className,\n            children: [\" Average Rating: \", note.rating, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"comment-button\",\n            children: \"comments \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-button\",\n            children: \"delete \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"view-button\",\n            children: \"view \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(StarRatingComponent, {\n            name: note.noteid,\n            starCount: 5,\n            onChange: this.ratingChanged,\n            size: 24,\n            isHalf: true,\n            emptyIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"far fa-star\",\n              children: \" \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 39\n            }, this),\n            halfIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-star-half-alt\",\n              children: \" \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 38\n            }, this),\n            fullIcon: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-star\",\n              children: \" \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 38\n            }, this),\n            activeColor: \"#ffd700\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"extra-space\",\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this)]\n        }, note.noteid, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this));\n      }\n\n      console.log('list of notes', listOfNotes);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", listOfNotes, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 18\n      }, this);\n    };\n\n    this.state = {\n      results: [],\n      listOfNotes: '',\n      queryString: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-back\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-head\",\n          children: \" NotesHub Search / View Page \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"search\",\n          onChange: this.onInputchange,\n          className: \"search-bar\",\n          placeholder: \"Search for notes..\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"search-button\",\n          onClick: this.getNotesData,\n          children: \" Submit \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchResult\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-choose\",\n          children: \" Choose a document: - \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), \" \", this.renderResults()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Ranjith VK/Desktop/vit/Fall semester 2021/Software engineering/project codes/Notes-Review-home-main (2)/src/Components/Search.js"],"names":["React","axios","StarRatingComponent","Search","Component","constructor","props","onInputchange","event","setState","queryString","target","value","ratingChanged","newRating","console","log","id","getNotesData","URLString","state","get","then","response","data","notes","note","rating","className","results","catch","error","alert","renderResults","listOfNotes","length","map","idx","description","author","subject","noteid","render"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport axios from 'axios';\r\nimport StarRatingComponent from \"react-star-rating-component\";\r\n\r\nexport default class Search extends React.Component {\r\n    constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        results: [],\r\n        listOfNotes: '',\r\n        queryString: ''\r\n        }\r\n    }\r\n\r\n    onInputchange = (event) => {\r\n        this.setState({\r\n            queryString: event.target.value\r\n        });\r\n    }\r\n\r\n    ratingChanged = (newRating) => {\r\n        console.log(\" Note ID: \" + this.props.id);\r\n        //axios.put('http://localhost:5000/rate')\r\n        console.log(newRating);\r\n    };\r\n\r\n    getNotesData = () => {\r\n        var URLString = 'http://localhost:5000/notes?search=' + this.state.queryString;\r\n        axios.get(URLString).then(response => {\r\n            console.log(response.data);\r\n            var notes = response.data;\r\n            for (let note of notes) {\r\n                console.log(note);\r\n                if (note.rating >= 7.5) {\r\n                    note.className = 'green';\r\n                } else if (note.rating < 5) {\r\n                    note.className = 'red';\r\n                } else {\r\n                    note.className = 'yellow';\r\n                }\r\n            }\r\n            this.setState({ results: notes })\r\n        }).catch(error => {\r\n            console.log(error);\r\n            alert(\"No Data found!\");\r\n        })\r\n    };\r\n\r\n    renderResults = () => {\r\n        const notes = this.state.results;\r\n        let listOfNotes = '';\r\n        if (notes && notes.length > 0) {\r\n            listOfNotes = notes.map((note, idx) =>\r\n                <div className = \"search-upload-box\" key = { note.noteid } >\r\n                    <div className = \"description\" > Description: { note.description } </div> \r\n                    <div className = \"author\" > Author: { note.author } </div> \r\n                    <div className = \"subject\" > Subject: { note.subject } </div> \r\n                    <div className = { note.className } > Average Rating: { note.rating } </div> \r\n                    <button className = \"comment-button\" >comments </button> \r\n                    <button className = \"delete-button\" >delete </button>  \r\n                    <button className = \"view-button\" >view </button>  \r\n                    <StarRatingComponent\r\n                        name = {note.noteid}\r\n                        starCount = { 5 }\r\n                        onChange = { this.ratingChanged }\r\n                        size = { 24 }\r\n                        isHalf = { true }\r\n                        emptyIcon = { < i className = \"far fa-star\" > </i>}\r\n                        halfIcon = { < i className = \"fa fa-star-half-alt\" > </i>}\r\n                        fullIcon = { < i className = \"fa fa-star\" > </i>}\r\n                    activeColor = \"#ffd700\"/>\r\n                    <div className = \"extra-space\" > </div> \r\n                </div> );\r\n        }\r\n        console.log('list of notes', listOfNotes);\r\n        return ( <div> { listOfNotes } </div>);\r\n    }\r\n\r\n    render() {\r\n        return ( \r\n            <>\r\n                <div className = \"search-back\" >\r\n                    <div className = \"search-head\" > NotesHub Search / View Page </div>   \r\n                    <input type = \"search\"\r\n                        onChange = { this.onInputchange }\r\n                        className = \"search-bar\"\r\n                        placeholder = \"Search for notes..\" />\r\n                    <button className = \"search-button\"\r\n                        onClick = { this.getNotesData } > Submit </button>\r\n                    <div className = \"searchResult\" ></div> \r\n                    <div className = \"search-choose\" > Choose a document: - </div> { this.renderResults() } \r\n                </div> \r\n            </>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}